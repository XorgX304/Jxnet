
apply plugin: 'java'

sourceSets {
	main {
		java {
			srcDir 'java/src'
		}
		resources {
			srcDirs 'java'
			include 'lib/**/*'
		}
	}
}

task generateJNIHeaders(type: Exec, dependsOn: classes) {
	def classpath = sourceSets.main.output.classesDir
	commandLine 'javah', '-jni', '-d', 'build/include/jxnet', '-classpath', classpath,
			'com.ardikars.jxnet.Jxnet',
			'com.ardikars.jxnet.util.AddrUtils',
			'com.ardikars.jxnet.util.Preconditions',
			'com.ardikars.jxnet.BpfProgram'
}