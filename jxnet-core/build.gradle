
apply plugin: 'java'

version="${core_version}"

sourceSets {
	main {
		java {
			srcDir 'java/src'
		}
		resources {
			srcDirs 'java'
			include 'lib/**/*'
		}
	}
}

task generateJNIHeaders(type: Exec) {
	def classpath = sourceSets.main.output.classesDir
	commandLine 'javah', '-jni', '-d', 'build/include/jxnet', '-classpath', classpath, 'com.ardikars.jxnet.Jxnet', 'com.ardikars.jxnet.BpfProgram', 'com.ardikars.jxnet.util.AddrUtils'
	dependsOn classes
}

dependencies {
	compile project(":jxnet-common")
}
