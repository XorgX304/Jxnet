
allprojects {

    apply plugin: 'java'

    group = 'com.ardikars.jxnet'
    version = '1.1.1-SHAPSHOT'

    sourceCompatibility = 1.8
    targetCompatibility = 1.8

    [compileJava, compileTestJava]*.options*.encoding = 'UTF-8'

    repositories {
        mavenCentral()
    }

}

subprojects.each { subproject -> evaluationDependsOn(subproject.path) }
jar.dependsOn subprojects.tasks["classes"]

jar {
    subprojects.each { subproject ->
        from subproject.sourceSets.main.output.classesDir
        from subproject.sourceSets.main.output.resourcesDir
    }
}

javadoc {
    def srcDirs = []
    subprojects.each { project ->
        srcDirs.addAll project.sourceSets.main.java.srcDirs
    }
    source srcDirs
}

